<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>이미지 사이즈</title>

<style>
body{margin:0;background:#fff;}

.event-container{
    margin:0 auto;
    position:relative;
    overflow:hidden;
}

/* 기본 이미지 */
.event-img{
    height:auto;
    display:block;
    margin:0 auto;
}

/* 버튼 */
.btn-wrap{
    text-align:center;
    margin:20px 0;
}

.btn-wrap button{
    padding:10px 18px;
    margin:0 6px;
    font-size:14px;
    cursor:pointer;
}
</style>
</head>

<body>

<div id="container" class="event-container">
    
    <div class="btn-wrap">
        <button onclick="changeImg('event.jpg',1440)">1440 이미지</button>
        <button onclick="changeImg('event_1920.jpg',1920)">1920 이미지</button>
        <button onclick="changeImg('event_2560.jpg',2560)">2560 이미지</button>
    </div>
    
    <img 
        id="mainImg"
        src="event.jpg"
        class="event-img"
        alt="이벤트 이미지"
    >
</div>

<script>
const IMAGES = {
    1440 : "event.jpg",
    1920 : "event_1920.jpg",
    2560 : "event_2560.jpg"
};

let selectedWidth = 1440;

function applyView(){
    const container = document.getElementById("container");
    const img = document.getElementById("mainImg");

    const vw = window.innerWidth;

    // 모바일
    if(vw <= 768){
        container.style.width = "100%";
        img.src = IMAGES[1440];
        img.style.width = "100%";
        return;
    }

    let useWidth = selectedWidth;

    // 단계별 다운스케일 처리
    if(selectedWidth === 2560 && vw < 2560){
        useWidth = 1920;
    }
    if(useWidth === 1920 && vw < 1920){
        useWidth = 1440;
    }

    container.style.width = useWidth + "px";
    img.style.width = useWidth + "px";
    img.src = IMAGES[useWidth];
}

function changeImg(src, width){
    selectedWidth = width;
    applyView();
}

// 초기 로드
window.addEventListener("load", applyView);

// 화면 리사이즈 대응
window.addEventListener("resize", applyView);
</script>


</body>
</html>
